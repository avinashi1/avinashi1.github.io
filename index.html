<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fitness Pro Tracker - Śledzenie Celów i Ciężarów</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Inter', 'Segoe UI', system-ui, -apple-system, sans-serif;
}

:root {
    --primary: #6366f1;
    --primary-light: #818cf8;
    --primary-dark: #4f46e5;
    --secondary: #10b981;
    --accent: #8b5cf6;
    --glass-bg: rgba(255, 255, 255, 0.15);
    --glass-border: rgba(255, 255, 255, 0.2);
    --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    --text-primary: #1f2937;
    --text-secondary: #6b7280;
    --success: #10b981;
    --warning: #f59e0b;
    --danger: #ef4444;
    --background: #f8fafc;
    --surface: #ffffff;
    --gradient-primary: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #ec4899 100%);
    --gradient-glass: linear-gradient(135deg, rgba(255, 255, 255, 0.25) 0%, rgba(255, 255, 255, 0.15) 100%);
    --gradient-card: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(139, 92, 246, 0.1) 100%);
}

body {
    background: var(--background);
    background-image: 
        radial-gradient(at 80% 0%, rgba(99, 102, 241, 0.15) 0px, transparent 50%),
        radial-gradient(at 0% 80%, rgba(139, 92, 246, 0.15) 0px, transparent 50%);
    color: var(--text-primary);
    line-height: 1.6;
    min-height: 100vh;
    backdrop-filter: blur(20px);
}

.container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 20px;
}

header {
    background: var(--glass-bg);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    border: 1px solid var(--glass-border);
    border-radius: 24px;
    padding: 30px 0;
    margin: 20px auto 40px;
    max-width: 1400px;
    box-shadow: var(--glass-shadow);
    position: relative;
    overflow: hidden;
}

header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, 
        transparent, 
        rgba(255, 255, 255, 0.6), 
        transparent
    );
}

.header-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    padding: 0 30px;
    position: relative;
    z-index: 1;
}

h1 {
    font-size: 2.75rem;
    font-weight: 800;
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    margin-bottom: 10px;
    letter-spacing: -0.025em;
}

.logo {
    display: flex;
    align-items: center;
    gap: 20px;
}

.logo i {
    font-size: 3rem;
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
}

.nav-tabs {
    display: flex;
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
    border: 1px solid var(--glass-border);
    border-radius: 16px;
    padding: 6px;
    margin-top: 25px;
    width: 100%;
    gap: 4px;
}

.tab-btn {
    flex: 1;
    background: transparent;
    border: none;
    color: var(--text-secondary);
    padding: 16px 20px;
    border-radius: 12px;
    cursor: pointer;
    font-weight: 600;
    font-size: 0.95rem;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    position: relative;
    overflow: hidden;
}

.tab-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: var(--gradient-glass);
    opacity: 0;
    transition: opacity 0.3s;
}

.tab-btn:hover {
    color: var(--primary);
    transform: translateY(-2px);
}

.tab-btn:hover::before {
    opacity: 1;
}

.tab-btn.active {
    background: var(--surface);
    color: var(--primary);
    box-shadow: 0 4px 12px rgba(99, 102, 241, 0.15);
    border: 1px solid rgba(99, 102, 241, 0.2);
}

.tab-btn.active i {
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
}

.stats-summary {
    display: flex;
    gap: 20px;
    margin-top: 25px;
    flex-wrap: wrap;
}

.stat-card {
    background: var(--gradient-card);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(99, 102, 241, 0.1);
    border-radius: 20px;
    padding: 25px;
    text-align: center;
    flex: 1;
    min-width: 180px;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.stat-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: var(--gradient-primary);
    opacity: 0;
    transition: opacity 0.3s;
}

.stat-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 24px rgba(99, 102, 241, 0.15);
    border-color: rgba(99, 102, 241, 0.2);
}

.stat-card:hover::before {
    opacity: 1;
}

.stat-number {
    font-size: 2.5rem;
    font-weight: 800;
    display: block;
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    line-height: 1;
    margin-bottom: 8px;
}

.stat-label {
    font-size: 0.9rem;
    color: var(--text-secondary);
    font-weight: 500;
    letter-spacing: 0.05em;
}

/* Tab content with liquid effect */
.tab-content {
    display: none;
    animation: liquidAppear 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes liquidAppear {
    from {
        opacity: 0;
        transform: translateY(20px) scale(0.98);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

.tab-content.active {
    display: block;
}

/* Glass cards with liquid borders */
.main-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;
}

@media (max-width: 992px) {
    .main-content {
        grid-template-columns: 1fr;
    }
}

.card {
    background: var(--surface);
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    border-radius: 24px;
    padding: 32px;
    box-shadow: var(--glass-shadow);
    margin-bottom: 25px;
    position: relative;
    overflow: hidden;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.card::before {
    content: '';
    position: absolute;
    inset: 0;
    background: var(--gradient-glass);
    opacity: 0;
    transition: opacity 0.3s;
}

.card:hover {
    transform: translateY(-5px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.12);
}

.card:hover::before {
    opacity: 0.1;
}

.card h2 {
    color: var(--text-primary);
    margin-bottom: 24px;
    padding-bottom: 16px;
    border-bottom: 2px solid rgba(99, 102, 241, 0.1);
    display: flex;
    align-items: center;
    gap: 12px;
    font-size: 1.75rem;
    font-weight: 700;
}

.card h2 i {
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    font-size: 1.8rem;
}

/* Modern form elements */
.form-group {
    margin-bottom: 24px;
}

label {
    display: block;
    margin-bottom: 10px;
    font-weight: 600;
    color: var(--text-primary);
    font-size: 0.95rem;
}

input, select, textarea {
    width: 100%;
    padding: 16px 20px;
    background: rgba(248, 250, 252, 0.8);
    border: 1.5px solid #e2e8f0;
    border-radius: 12px;
    font-size: 1rem;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    color: var(--text-primary);
}

input:focus, select:focus, textarea:focus {
    outline: none;
    border-color: var(--primary-light);
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
    background: white;
    transform: translateY(-1px);
}

/* Modern buttons with liquid effect */
.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    background: var(--gradient-primary);
    color: white;
    border: none;
    padding: 16px 32px;
    border-radius: 12px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: 600;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
    letter-spacing: 0.02em;
}

.btn::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.2);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
}

.btn:hover::before {
    width: 300px;
    height: 300px;
}

.btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 12px 24px rgba(99, 102, 241, 0.3);
}

.btn:active {
    transform: translateY(0);
}

.btn-accent {
    background: linear-gradient(135deg, var(--accent), #a855f7);
}

.btn-purple {
    background: linear-gradient(135deg, #8b5cf6, #7c3aed);
}

.btn-small {
    padding: 12px 24px;
    font-size: 0.9rem;
}

.btn-success {
    background: linear-gradient(135deg, var(--success), #059669);
}

.btn-warning {
    background: linear-gradient(135deg, var(--warning), #d97706);
}

.btn-danger {
    background: linear-gradient(135deg, var(--danger), #dc2626);
}

/* Glass list containers */
.goals-list, .lifts-list {
    max-height: 500px;
    overflow-y: auto;
    padding-right: 8px;
}

/* Custom scrollbar */
.goals-list::-webkit-scrollbar,
.lifts-list::-webkit-scrollbar {
    width: 8px;
}

.goals-list::-webkit-scrollbar-track,
.lifts-list::-webkit-scrollbar-track {
    background: rgba(99, 102, 241, 0.05);
    border-radius: 10px;
}

.goals-list::-webkit-scrollbar-thumb,
.lifts-list::-webkit-scrollbar-thumb {
    background: var(--gradient-primary);
    border-radius: 10px;
}

/* Glass items with liquid hover */
.goal-item, .lift-item {
    background: var(--gradient-card);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(99, 102, 241, 0.1);
    border-radius: 18px;
    padding: 24px;
    margin-bottom: 16px;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
}

.goal-item::before,
.lift-item::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 4px;
    height: 100%;
    background: var(--gradient-primary);
    opacity: 0;
    transition: opacity 0.3s;
}

.goal-item:hover::before,
.lift-item:hover::before {
    opacity: 1;
}

.lift-item {
    border-left-color: var(--accent);
}

.goal-item:hover, .lift-item:hover {
    transform: translateY(-4px) scale(1.01);
    box-shadow: 0 12px 24px rgba(99, 102, 241, 0.15);
    border-color: rgba(99, 102, 241, 0.2);
}

.goal-item.completed {
    background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(5, 150, 105, 0.1));
    border-color: rgba(16, 185, 129, 0.2);
}

/* Headers with gradient text */
.goal-item-header, .lift-item-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 16px;
}

.goal-title, .lift-title {
    font-size: 1.3rem;
    font-weight: 700;
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
}

.lift-title {
    background: linear-gradient(135deg, var(--accent), #7c3aed);
    -webkit-background-clip: text;
    background-clip: text;
}

.goal-category, .lift-exercise {
    display: inline-block;
    background: rgba(99, 102, 241, 0.1);
    color: var(--primary);
    padding: 8px 16px;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 600;
    border: 1px solid rgba(99, 102, 241, 0.2);
}

.lift-exercise {
    background: rgba(139, 92, 246, 0.1);
    color: var(--accent);
    border-color: rgba(139, 92, 246, 0.2);
}

/* Progress bars with liquid fill */
.progress-bar {
    height: 10px;
    background: rgba(226, 232, 240, 0.8);
    border-radius: 10px;
    overflow: hidden;
    margin-top: 8px;
    position: relative;
}

.progress-bar::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(90deg, 
        rgba(255, 255, 255, 0.1) 25%, 
        transparent 25%, 
        transparent 50%, 
        rgba(255, 255, 255, 0.1) 50%, 
        rgba(255, 255, 255, 0.1) 75%, 
        transparent 75%, 
        transparent
    );
    background-size: 20px 20px;
    animation: moveStripes 2s linear infinite;
}

@keyframes moveStripes {
    0% { background-position: 0 0; }
    100% { background-position: 20px 0; }
}

.progress-fill {
    height: 100%;
    background: var(--gradient-primary);
    border-radius: 10px;
    width: 0%;
    transition: width 1s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    z-index: 1;
}

/* Action buttons */
.goal-actions, .lift-actions {
    display: flex;
    gap: 12px;
    margin-top: 20px;
    flex-wrap: wrap;
}

/* Empty states */
.empty-state {
    text-align: center;
    padding: 60px 20px;
    color: var(--text-secondary);
}

.empty-state i {
    font-size: 4rem;
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    margin-bottom: 24px;
    opacity: 0.5;
}

/* Modern footer */
footer {
    text-align: center;
    margin-top: 60px;
    padding: 30px;
    color: var(--text-secondary);
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    border-radius: 24px;
    margin-bottom: 20px;
}

/* Filter buttons with glass effect */
.category-filter, .exercise-filter {
    display: flex;
    gap: 12px;
    margin-bottom: 24px;
    flex-wrap: wrap;
}

.category-btn, .exercise-btn {
    padding: 12px 24px;
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
    border: 1px solid var(--glass-border);
    border-radius: 16px;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    font-weight: 500;
    color: var(--text-secondary);
}

.category-btn:hover, .exercise-btn:hover {
    transform: translateY(-2px);
    background: rgba(99, 102, 241, 0.1);
    border-color: rgba(99, 102, 241, 0.3);
}

.category-btn.active, .exercise-btn.active {
    background: var(--gradient-primary);
    color: white;
    border-color: transparent;
    box-shadow: 0 8px 16px rgba(99, 102, 241, 0.25);
}

/* Calculator cards with liquid glass effect */
.calculator-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 24px;
    margin-top: 24px;
}

.calculator-card {
    background: var(--gradient-card);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(99, 102, 241, 0.1);
    border-radius: 20px;
    padding: 28px;
    box-shadow: var(--glass-shadow);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
}

.calculator-card::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(255,255,255,0.1) 1%, transparent 1%);
    background-size: 20px 20px;
    opacity: 0;
    transition: opacity 0.3s;
}

.calculator-card:hover::before {
    opacity: 1;
}

.calculator-card:hover {
    transform: translateY(-8px) scale(1.02);
    box-shadow: 0 20px 40px rgba(99, 102, 241, 0.2);
    border-color: rgba(99, 102, 241, 0.3);
}

.calculator-card h3 {
    color: var(--text-primary);
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    gap: 12px;
    font-size: 1.4rem;
    font-weight: 700;
}

/* Result displays */
.calculator-result {
    margin-top: 24px;
    padding: 20px;
    background: rgba(99, 102, 241, 0.05);
    border-radius: 16px;
    display: none;
    border: 1px solid rgba(99, 102, 241, 0.1);
}

.calculator-result.active {
    display: block;
    animation: slideIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.result-value {
    font-size: 2.2rem;
    font-weight: 800;
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    margin: 12px 0;
}

.result-category {
    display: inline-block;
    padding: 10px 20px;
    border-radius: 20px;
    font-size: 0.9rem;
    font-weight: 600;
    backdrop-filter: blur(10px);
    margin-top: 12px;
}

.underweight {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(99, 102, 241, 0.2));
    color: #3b82f6;
    border: 1px solid rgba(59, 130, 246, 0.3);
}

.normal {
    background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(5, 150, 105, 0.2));
    color: #10b981;
    border: 1px solid rgba(16, 185, 129, 0.3);
}

.overweight {
    background: linear-gradient(135deg, rgba(245, 158, 11, 0.2), rgba(217, 119, 6, 0.2));
    color: #f59e0b;
    border: 1px solid rgba(245, 158, 11, 0.3);
}

.obese {
    background: linear-gradient(135deg, rgba(239, 68, 68, 0.2), rgba(220, 38, 38, 0.2));
    color: #ef4444;
    border: 1px solid rgba(239, 68, 68, 0.3);
}

/* Lift stats grid */
.lift-stats {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 12px;
    margin-top: 16px;
}

.lift-stat {
    text-align: center;
    padding: 16px;
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
    border: 1px solid var(--glass-border);
    border-radius: 16px;
    transition: all 0.3s ease;
}

.lift-stat:hover {
    transform: translateY(-3px);
    background: rgba(139, 92, 246, 0.1);
    border-color: rgba(139, 92, 246, 0.3);
}

.lift-stat-value {
    font-size: 1.4rem;
    font-weight: 800;
    background: linear-gradient(135deg, var(--accent), #7c3aed);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    display: block;
}

.lift-stat-label {
    font-size: 0.85rem;
    color: var(--text-secondary);
    font-weight: 500;
    margin-top: 4px;
}

/* Modal with glass effect */
.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(10px);
    z-index: 1000;
    justify-content: center;
    align-items: center;
    animation: modalFadeIn 0.3s ease;
}

@keyframes modalFadeIn {
    from {
        opacity: 0;
        backdrop-filter: blur(0);
    }
    to {
        opacity: 1;
        backdrop-filter: blur(10px);
    }
}

.modal.active {
    display: flex;
}

.modal-content {
    background: var(--surface);
    backdrop-filter: blur(30px);
    border: 1px solid var(--glass-border);
    border-radius: 28px;
    padding: 40px;
    max-width: 500px;
    width: 90%;
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: 
        0 25px 50px -12px rgba(0, 0, 0, 0.25),
        inset 0 1px 0 0 rgba(255, 255, 255, 0.1);
    animation: modalSlideIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes modalSlideIn {
    from {
        opacity: 0;
        transform: translateY(30px) scale(0.95);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 24px;
}

.close-modal {
    background: none;
    border: none;
    font-size: 1.8rem;
    cursor: pointer;
    color: var(--text-secondary);
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.close-modal:hover {
    background: rgba(239, 68, 68, 0.1);
    color: var(--danger);
}

/* Exercise list grid */
.exercise-list {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
    gap: 12px;
    margin-top: 20px;
}

.exercise-option {
    padding: 16px;
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
    border: 1px solid var(--glass-border);
    border-radius: 16px;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    font-size: 0.95rem;
    text-align: center;
}

.exercise-option:hover {
    transform: translateY(-3px);
    background: rgba(99, 102, 241, 0.1);
    border-color: rgba(99, 102, 241, 0.3);
}

.exercise-option.selected {
    background: var(--gradient-primary);
    color: white;
    border-color: transparent;
    box-shadow: 0 8px 16px rgba(99, 102, 241, 0.25);
}

/* Form row layout */
.form-row {
    display: flex;
    gap: 20px;
}

.form-row .form-group {
    flex: 1;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .form-row {
        flex-direction: column;
        gap: 0;
    }
    
    .lift-stats {
        grid-template-columns: 1fr;
    }
    
    .stats-summary {
        justify-content: center;
    }
    
    .header-content {
        flex-direction: column;
        text-align: center;
        gap: 20px;
    }
    
    .nav-tabs {
        flex-direction: column;
    }
    
    .tab-btn {
        padding: 14px;
    }
    
    h1 {
        font-size: 2.25rem;
    }
    
    .calculator-grid {
        grid-template-columns: 1fr;
    }
}

/* Liquid animation for loading states */
@keyframes liquidFlow {
    0% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    100% {
        background-position: 0% 50%;
    }
}

/* Add subtle animations to interactive elements */
.btn, .card, .goal-item, .lift-item, .calculator-card, .stat-card {
    animation: floatIn 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

@keyframes floatIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Add depth with multiple shadows */
.card, .modal-content, .stat-card {
    box-shadow: 
        0 4px 6px -1px rgba(0, 0, 0, 0.05),
        0 10px 15px -3px rgba(0, 0, 0, 0.08),
        0 20px 25px -5px rgba(0, 0, 0, 0.1),
        inset 0 1px 0 0 rgba(255, 255, 255, 0.1);
}

/* Gradient text effects */
.gradient-text {
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
}

/* Subtle hover effects for all interactive elements */
button, input[type="submit"], .category-btn, .exercise-btn, .exercise-option {
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

button:active, input[type="submit"]:active {
    transform: scale(0.98);
}

/* Custom focus styles */
:focus-visible {
    outline: 2px solid var(--primary);
    outline-offset: 2px;
}

/* Selection color */
::selection {
    background: rgba(99, 102, 241, 0.3);
    color: white;
}

/* Smooth scrolling */
html {
    scroll-behavior: smooth;
}
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-dumbbell"></i>
                    <div>
                        <h1>gogogo</h1>
                        <p>Śledzenie celów, ciężarów i kalkulatory fitness</p>
                    </div>
                </div>
                
                <div class="nav-tabs">
                    <button class="tab-btn active" data-tab="goals">
                        <i class="fas fa-bullseye"></i> Cele
                    </button>
                    <button class="tab-btn" data-tab="lifts">
                        <i class="fas fa-weight-hanging"></i> Ciężary
                    </button>
                    <button class="tab-btn" data-tab="calculators">
                        <i class="fas fa-calculator"></i> Kalkulatory
                    </button>
                    <button class="tab-btn" data-tab="stats">
                        <i class="fas fa-chart-bar"></i> Statystyki
                    </button>
                </div>
                
                <div class="stats-summary">
                    <div class="stat-card">
                        <span class="stat-number" id="total-goals">0</span>
                        <span class="stat-label">Cele</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number" id="total-lifts">0</span>
                        <span class="stat-label">Wyciskane ciężary</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number" id="personal-best">0</span>
                        <span class="stat-label">Rekord osobisty</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number" id="overall-progress-percent">0%</span>
                        <span class="stat-label">Postęp ogólny</span>
                    </div>
                </div>
            </div>
        </div>
    </header>
    
    <div class="container">
        <!-- Zakładka CELÓW -->
        <div class="tab-content active" id="goals-tab">
            <div class="main-content">
                <div class="left-column">
                    <div class="card">
                        <h2><i class="fas fa-bullseye"></i> Dodaj nowy cel</h2>
                        <form id="goal-form">
                            <div class="form-group">
                                <label for="goal-title">Nazwa celu</label>
                                <input type="text" id="goal-title" placeholder="np. Wyciskanie na ławce 100kg" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="goal-category">Kategoria</label>
                                <select id="goal-category" required>
                                    <option value="">Wybierz kategorię</option>
                                    <option value="siła">Siła</option>
                                    <option value="masa">Masa mięśniowa</option>
                                    <option value="wytrzymałość">Wytrzymałość</option>
                                    <option value="redukcja">Redukcja tłuszczu</option>
                                    <option value="technika">Technika</option>
                                    <option value="inne">Inne</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="goal-description">Opis celu</label>
                                <textarea id="goal-description" rows="3" placeholder="Opisz swój cel, np. jakie ćwiczenia, częstotliwość itp."></textarea>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="goal-start">Data rozpoczęcia</label>
                                    <input type="date" id="goal-start" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="goal-end">Data docelowa</label>
                                    <input type="date" id="goal-end">
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="current-value">Aktualna wartość</label>
                                    <input type="number" id="current-value" placeholder="np. 70" min="0">
                                </div>
                                
                                <div class="form-group">
                                    <label for="target-value">Docelowa wartość</label>
                                    <input type="number" id="target-value" placeholder="np. 100" min="0" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="unit">Jednostka</label>
                                    <input type="text" id="unit" placeholder="kg, cm, itp.">
                                </div>
                            </div>
                            
                            <button type="submit" class="btn btn-accent">
                                <i class="fas fa-plus-circle"></i> Dodaj cel
                            </button>
                        </form>
                    </div>
                    
                    <div class="card">
                        <h2><i class="fas fa-chart-line"></i> Postępy celów</h2>
                        <div class="progress-overview">
                            <div class="progress-bar" style="margin-top: 10px;">
                                <div class="progress-fill" id="goals-progress-bar" style="width: 0%;"></div>
                            </div>
                            <div class="progress-text">
                                <span>Ogólny postęp celów</span>
                                <span id="goals-progress-text">0%</span>
                            </div>
                            <div style="margin-top: 20px;">
                                <p><i class="fas fa-info-circle"></i> Statystyki twoich celów są aktualizowane na bieżąco. Kliknij w cel, aby zobaczyć szczegóły i zaktualizować postęp.</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="right-column">
                    <div class="card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h2><i class="fas fa-list-check"></i> Twoje cele</h2>
                            <div>
                                <button class="btn btn-small" id="show-all-goals">Wszystkie</button>
                                <button class="btn btn-small" id="show-active-goals">Aktywne</button>
                            </div>
                        </div>
                        
                        <div class="category-filter">
                            <button class="category-btn active" data-category="all">Wszystkie</button>
                            <button class="category-btn" data-category="siła">Siła</button>
                            <button class="category-btn" data-category="masa">Masa</button>
                            <button class="category-btn" data-category="wytrzymałość">Wytrzymałość</button>
                            <button class="category-btn" data-category="redukcja">Redukcja</button>
                            <button class="category-btn" data-category="technika">Technika</button>
                            <button class="category-btn" data-category="inne">Inne</button>
                        </div>
                        
                        <div class="goals-list" id="goals-container">
                            <!-- Cele będą dodawane dynamicznie -->
                            <div class="empty-state">
                                <i class="fas fa-bullseye"></i>
                                <h3>Brak celów</h3>
                                <p>Dodaj swój pierwszy cel, aby rozpocząć śledzenie postępów na siłowni!</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Zakładka CIĘŻARÓW -->
        <div class="tab-content" id="lifts-tab">
            <div class="main-content">
                <div class="left-column">
                    <div class="card">
                        <h2><i class="fas fa-weight-hanging"></i> Dodaj wyciśnięty ciężar</h2>
                        <form id="lift-form">
                            <div class="form-group">
                                <label for="lift-exercise">Ćwiczenie</label>
                                <div style="display: flex; gap: 10px;">
                                    <select id="lift-exercise" style="flex: 1;" required>
                                        <option value="">Wybierz ćwiczenie</option>
                                        <option value="Wyciskanie na ławce płaskiej">Wyciskanie na ławce płaskiej</option>
                                        <option value="Przysiad ze sztangą">Przysiad ze sztangą</option>
                                        <option value="Martwy ciąg">Martwy ciąg</option>
                                        <option value="Wyciskanie żołnierskie">Wyciskanie żołnierskie</option>
                                        <option value="Wiosłowanie sztangą">Wiosłowanie sztangą</option>
                                        <option value="Podciąganie na drążku">Podciąganie na drążku</option>
                                        <option value="Uginanie ramion ze sztangą">Uginanie ramion ze sztangą</option>
                                        <option value="Wyciskanie francuskie">Wyciskanie francuskie</option>
                                        <option value="inne">Inne (wpisz poniżej)</option>
                                    </select>
                                    <button type="button" class="btn btn-small" id="custom-exercise-btn">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                </div>
                                <input type="text" id="custom-exercise" placeholder="Wpisz niestandardowe ćwiczenie" style="display: none; margin-top: 10px;">
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="lift-weight">Ciężar (kg)</label>
                                    <input type="number" id="lift-weight" placeholder="np. 80" min="0" step="0.5" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="lift-reps">Powtórzenia</label>
                                    <input type="number" id="lift-reps" placeholder="np. 8" min="1" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="lift-sets">Serie</label>
                                    <input type="number" id="lift-sets" placeholder="np. 3" min="1" value="1">
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="lift-date">Data wykonania</label>
                                <input type="date" id="lift-date" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="lift-notes">Notatki (opcjonalnie)</label>
                                <textarea id="lift-notes" rows="2" placeholder="Np. technika, samopoczucie, pomoc partnera itp."></textarea>
                            </div>
                            
                            <button type="submit" class="btn btn-purple">
                                <i class="fas fa-plus-circle"></i> Dodaj ciężar
                            </button>
                        </form>
                    </div>
                    
                    <div class="card">
                        <h2><i class="fas fa-trophy"></i> Twoje rekordy</h2>
                        <div id="personal-records">
                            <p>Dodaj swoje pierwsze wyciski, aby zobaczyć tutaj rekordy osobiste!</p>
                        </div>
                    </div>
                </div>
                
                <div class="right-column">
                    <div class="card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h2><i class="fas fa-history"></i> Historia wycisków</h2>
                            <div>
                                <button class="btn btn-small" id="show-all-lifts">Wszystkie</button>
                                <button class="btn btn-small" id="show-last-month">Ostatni miesiąc</button>
                            </div>
                        </div>
                        
                        <div class="exercise-filter" id="exercise-filter-container">
                            <!-- Filtry ćwiczeń będą dodawane dynamicznie -->
                        </div>
                        
                        <div class="lifts-list" id="lifts-container">
                            <!-- Wyciski będą dodawane dynamicznie -->
                            <div class="empty-state">
                                <i class="fas fa-weight-hanging"></i>
                                <h3>Brak wycisków</h3>
                                <p>Dodaj swój pierwszy wycisk, aby rozpocząć śledzenie postępów siłowych!</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Zakładka KALKULATORÓW -->
        <div class="tab-content" id="calculators-tab">
            <div class="card">
                <h2><i class="fas fa-calculator"></i> Kalkulatory fitness</h2>
                <p>Skorzystaj z poniższych kalkulatorów, aby obliczyć ważne wskaźniki fitness.</p>
                
                <div class="calculator-grid">
                    <!-- Kalkulator BMI -->
                    <div class="calculator-card">
                        <h3><i class="fas fa-weight-scale"></i> Kalkulator BMI</h3>
                        <p>Wskaźnik masy ciała (Body Mass Index)</p>
                        
                        <div class="form-group">
                            <label for="bmi-weight">Waga (kg)</label>
                            <input type="number" id="bmi-weight" placeholder="np. 70" min="20" max="300">
                        </div>
                        
                        <div class="form-group">
                            <label for="bmi-height">Wzrost (cm)</label>
                            <input type="number" id="bmi-height" placeholder="np. 180" min="100" max="250">
                        </div>
                        
                        <button class="btn btn-accent" id="calculate-bmi">
                            <i class="fas fa-calculator"></i> Oblicz BMI
                        </button>
                        
                        <div class="calculator-result" id="bmi-result">
                            <h4>Twój wynik BMI:</h4>
                            <div class="result-value" id="bmi-value">0</div>
                            <div class="result-category" id="bmi-category">-</div>
                            <p style="margin-top: 10px; font-size: 0.9rem;">BMI w zakresie 18.5-24.9 jest uważane za prawidłowe.</p>
                        </div>
                    </div>
                    
                    <!-- Kalkulator BMR -->
                    <div class="calculator-card">
                        <h3><i class="fas fa-fire"></i> Kalkulator BMR</h3>
                        <p>Podstawowa przemiana materii (Basal Metabolic Rate)</p>
                        
                        <div class="form-group">
                            <label>Płeć</label>
                            <div style="display: flex; gap: 15px; margin-top: 5px;">
                                <label style="display: flex; align-items: center; gap: 5px;">
                                    <input type="radio" name="gender" value="male" checked> Mężczyzna
                                </label>
                                <label style="display: flex; align-items: center; gap: 5px;">
                                    <input type="radio" name="gender" value="female"> Kobieta
                                </label>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="bmr-weight">Waga (kg)</label>
                            <input type="number" id="bmr-weight" placeholder="np. 70" min="20" max="300">
                        </div>
                        
                        <div class="form-group">
                            <label for="bmr-height">Wzrost (cm)</label>
                            <input type="number" id="bmr-height" placeholder="np. 180" min="100" max="250">
                        </div>
                        
                        <div class="form-group">
                            <label for="bmr-age">Wiek</label>
                            <input type="number" id="bmr-age" placeholder="np. 30" min="15" max="100">
                        </div>
                        
                        <button class="btn btn-accent" id="calculate-bmr">
                            <i class="fas fa-calculator"></i> Oblicz BMR
                        </button>
                        
                        <div class="calculator-result" id="bmr-result">
                            <h4>Twoje BMR:</h4>
                            <div class="result-value" id="bmr-value">0</div>
                            <p style="margin-top: 10px; font-size: 0.9rem;">Liczba kalorii spalana w stanie spoczynku (bez aktywności).</p>
                        </div>
                    </div>
                    
                    <!-- Kalkulator TDEE -->
                    <div class="calculator-card">
                        <h3><i class="fas fa-running"></i> Kalkulator TDEE</h3>
                        <p>Całkowite dzienne zapotrzebowanie kaloryczne</p>
                        
                        <div class="form-group">
                            <label for="tdee-bmr">BMR (wpisz z kalkulatora powyżej lub oblicz)</label>
                            <input type="number" id="tdee-bmr" placeholder="np. 1700">
                        </div>
                        
                        <div class="form-group">
                            <label for="activity-level">Poziom aktywności</label>
                            <select id="activity-level">
                                <option value="1.2">Siedzący tryb życia (brak ćwiczeń)</option>
                                <option value="1.375">Lekka aktywność (1-3 dni/tydzień)</option>
                                <option value="1.55" selected>Umiarkowana aktywność (3-5 dni/tydzień)</option>
                                <option value="1.725">Duża aktywność (6-7 dni/tydzień)</option>
                                <option value="1.9">Bardzo duża aktywność (2x dziennie, praca fizyczna)</option>
                            </select>
                        </div>
                        
                        <button class="btn btn-accent" id="calculate-tdee">
                            <i class="fas fa-calculator"></i> Oblicz TDEE
                        </button>
                        
                        <div class="calculator-result" id="tdee-result">
                            <h4>Twoje TDEE:</h4>
                            <div class="result-value" id="tdee-value">0</div>
                            <p style="margin-top: 10px; font-size: 0.9rem;">Liczba kalorii potrzebna do utrzymania wagi przy Twojej aktywności.</p>
                            <div style="margin-top: 15px; padding: 10px; background: #f0f7ff; border-radius: 5px;">
                                <p style="font-size: 0.9rem; margin-bottom: 5px;"><strong>Dla redukcji:</strong> <span id="tdee-cut">0</span> kcal</p>
                                <p style="font-size: 0.9rem;"><strong>Dla masy:</strong> <span id="tdee-bulk">0</span> kcal</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Kalkulator 1RM (One Rep Max) -->
                    <div class="calculator-card">
                        <h3><i class="fas fa-dumbbell"></i> Kalkulator 1RM</h3>
                        <p>Maksymalny ciężar na jedno powtórzenie</p>
                        
                        <div class="form-group">
                            <label for="onerm-weight">Ciężar (kg)</label>
                            <input type="number" id="onerm-weight" placeholder="np. 80" min="0" step="0.5">
                        </div>
                        
                        <div class="form-group">
                            <label for="onerm-reps">Liczba powtórzeń</label>
                            <input type="number" id="onerm-reps" placeholder="np. 5" min="1" max="15">
                        </div>
                        
                        <div class="form-group">
                            <label for="onerm-formula">Wzór</label>
                            <select id="onerm-formula">
                                <option value="epley">Epley (najpopularniejszy)</option>
                                <option value="brzycki">Brzycki</option>
                                <option value="lander">Lander</option>
                            </select>
                        </div>
                        
                        <button class="btn btn-accent" id="calculate-onerm">
                            <i class="fas fa-calculator"></i> Oblicz 1RM
                        </button>
                        
                        <div class="calculator-result" id="onerm-result">
                            <h4>Twój maksymalny ciężar (1RM):</h4>
                            <div class="result-value" id="onerm-value">0 kg</div>
                            <p style="margin-top: 10px; font-size: 0.9rem;">Przybliżona wartość maksymalnego ciężaru na jedno powtórzenie.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Zakładka STATYSTYK -->
        <div class="tab-content" id="stats-tab">
            <div class="main-content">
                <div class="left-column">
                    <div class="card">
                        <h2><i class="fas fa-chart-pie"></i> Podsumowanie</h2>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                            <div style="background: #f0f7ff; padding: 20px; border-radius: 10px;">
                                <h3 style="color: var(--primary); margin-bottom: 10px;">Cele</h3>
                                <div style="font-size: 2.5rem; font-weight: bold; color: var(--primary);" id="stats-goals-total">0</div>
                                <p style="color: #666; margin-top: 5px;">Łączna liczba celów</p>
                                <div style="margin-top: 15px;">
                                    <p><span id="stats-goals-completed">0</span> ukończonych</p>
                                    <p><span id="stats-goals-active">0</span> aktywnych</p>
                                </div>
                            </div>
                            
                            <div style="background: #f5f0ff; padding: 20px; border-radius: 10px;">
                                <h3 style="color: var(--purple); margin-bottom: 10px;">Ciężary</h3>
                                <div style="font-size: 2.5rem; font-weight: bold; color: var(--purple);" id="stats-lifts-total">0</div>
                                <p style="color: #666; margin-top: 5px;">Łączna liczba wycisków</p>
                                <div style="margin-top: 15px;">
                                    <p><span id="stats-lifts-month">0</span> w tym miesiącu</p>
                                    <p><span id="stats-different-exercises">0</span> różnych ćwiczeń</p>
                                </div>
                            </div>
                        </div>
                        
                        <div style="margin-top: 30px;">
                            <h3>Rozkład celów według kategorii</h3>
                            <div id="goals-by-category" style="margin-top: 15px;">
                                <p>Dodaj cele, aby zobaczyć statystyki</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="right-column">
                    <div class="card">
                        <h2><i class="fas fa-chart-line"></i> Postęp w czasie</h2>
                        <div id="progress-history">
                            <p>Dodaj cele i wyciski, aby zobaczyć wykresy postępów</p>
                        </div>
                        
                        <div style="margin-top: 30px;">
                            <h3>Najczęściej wykonywane ćwiczenia</h3>
                            <div id="top-exercises" style="margin-top: 15px;">
                                <p>Dodaj wyciski, aby zobaczyć statystyki ćwiczeń</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modal do wyboru ćwiczeń -->
    <div class="modal" id="exercise-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Wybierz ćwiczenie</h3>
                <button class="close-modal" id="close-exercise-modal">&times;</button>
            </div>
            <p>Wybierz z listy lub wpisz niestandardowe ćwiczenie:</p>
            <div class="exercise-list" id="exercise-list">
                <!-- Ćwiczenia będą dodawane dynamicznie -->
            </div>
            <div style="margin-top: 20px;">
                <button class="btn btn-accent" id="confirm-exercise">Potwierdź wybór</button>
            </div>
        </div>
    </div>
    
    <footer>
        <div class="container">
            <p>avinashi1 &copy; 2025</p>
            <p>Dane są przechowywane lokalnie w Twojej przeglądarce</p>
            <button class="btn btn-small" id="export-data" style="margin-top: 10px;">Eksportuj dane</button>
            <button class="btn btn-small btn-danger" id="clear-data" style="margin-top: 10px;">Wyczyść wszystkie dane</button>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Ustaw domyślne daty
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('goal-start').value = today;
            document.getElementById('lift-date').value = today;
            
            const nextMonth = new Date();
            nextMonth.setMonth(nextMonth.getMonth() + 1);
            document.getElementById('goal-end').value = nextMonth.toISOString().split('T')[0];
            
            // Załaduj dane z localStorage
            let goals = JSON.parse(localStorage.getItem('fitnessGoals')) || [];
            let lifts = JSON.parse(localStorage.getItem('fitnessLifts')) || [];
            
            // Obsługa zakładek
            document.querySelectorAll('.tab-btn').forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    // Zmień aktywną zakładkę
                    document.querySelectorAll('.tab-btn').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Pokaż odpowiednią zawartość
                    document.querySelectorAll('.tab-content').forEach(content => {
                        content.classList.remove('active');
                    });
                    
                    document.getElementById(`${tabId}-tab`).classList.add('active');
                    
                    // Odśwież statystyki dla zakładki statystyk
                    if (tabId === 'stats') {
                        updateStatsTab();
                    }
                });
            });
            
            // Inicjalizacja aplikacji
            renderGoals();
            renderLifts();
            updateMainStats();
            setupCalculators();
            
            // Obsługa formularza dodawania celu
            document.getElementById('goal-form').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const newGoal = {
                    id: Date.now(),
                    title: document.getElementById('goal-title').value,
                    category: document.getElementById('goal-category').value,
                    description: document.getElementById('goal-description').value,
                    startDate: document.getElementById('goal-start').value,
                    endDate: document.getElementById('goal-end').value,
                    currentValue: parseFloat(document.getElementById('current-value').value) || 0,
                    targetValue: parseFloat(document.getElementById('target-value').value),
                    unit: document.getElementById('unit').value || 'jednostek',
                    completed: false,
                    createdAt: new Date().toISOString()
                };
                
                goals.push(newGoal);
                saveGoals();
                renderGoals();
                updateMainStats();
                
                // Reset formularza
                this.reset();
                document.getElementById('goal-start').value = today;
                document.getElementById('goal-end').value = nextMonth.toISOString().split('T')[0];
                
                // Pokazuj powiadomienie
                showNotification('Cel został dodany pomyślnie!', 'success');
            });
            
            // Obsługa formularza dodawania wycisku
            document.getElementById('lift-form').addEventListener('submit', function(e) {
                e.preventDefault();
                
                let exercise = document.getElementById('lift-exercise').value;
                if (exercise === 'inne') {
                    exercise = document.getElementById('custom-exercise').value;
                    if (!exercise.trim()) {
                        showNotification('Wpisz nazwę ćwiczenia!', 'error');
                        return;
                    }
                }
                
                const newLift = {
                    id: Date.now(),
                    exercise: exercise,
                    weight: parseFloat(document.getElementById('lift-weight').value),
                    reps: parseInt(document.getElementById('lift-reps').value),
                    sets: parseInt(document.getElementById('lift-sets').value) || 1,
                    date: document.getElementById('lift-date').value,
                    notes: document.getElementById('lift-notes').value,
                    createdAt: new Date().toISOString(),
                    estimated1RM: calculate1RM(
                        parseFloat(document.getElementById('lift-weight').value),
                        parseInt(document.getElementById('lift-reps').value),
                        'epley'
                    )
                };
                
                lifts.push(newLift);
                saveLifts();
                renderLifts();
                updateMainStats();
                updatePersonalRecords();
                
                // Reset formularza
                this.reset();
                document.getElementById('lift-date').value = today;
                document.getElementById('custom-exercise').style.display = 'none';
                
                // Pokazuj powiadomienie
                showNotification('Wycisk został dodany pomyślnie!', 'success');
            });
            
            // Obsługa niestandardowego ćwiczenia
            document.getElementById('lift-exercise').addEventListener('change', function() {
                if (this.value === 'inne') {
                    document.getElementById('custom-exercise').style.display = 'block';
                } else {
                    document.getElementById('custom-exercise').style.display = 'none';
                }
            });
            
            document.getElementById('custom-exercise-btn').addEventListener('click', function() {
                document.getElementById('exercise-modal').classList.add('active');
                populateExerciseList();
            });
            
            document.getElementById('close-exercise-modal').addEventListener('click', function() {
                document.getElementById('exercise-modal').classList.remove('active');
            });
            
            document.getElementById('confirm-exercise').addEventListener('click', function() {
                const selectedExercise = document.querySelector('.exercise-option.selected');
                if (selectedExercise) {
                    document.getElementById('lift-exercise').value = selectedExercise.getAttribute('data-exercise');
                    document.getElementById('exercise-modal').classList.remove('active');
                }
            });
            
            // Obsługa filtrów celów
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    const category = this.getAttribute('data-category');
                    filterGoalsByCategory(category);
                });
            });
            
            // Obsługa przycisków "Wszystkie" i "Aktywne" dla celów
            document.getElementById('show-all-goals').addEventListener('click', function() {
                renderGoals();
                document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
                document.querySelector('[data-category="all"]').classList.add('active');
            });
            
            document.getElementById('show-active-goals').addEventListener('click', function() {
                const activeGoals = goals.filter(goal => !goal.completed);
                renderGoals(activeGoals);
                document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
                document.querySelector('[data-category="all"]').classList.add('active');
            });
            
            // Obsługa przycisków dla wycisków
            document.getElementById('show-all-lifts').addEventListener('click', function() {
                renderLifts();
            });
            
            document.getElementById('show-last-month').addEventListener('click', function() {
                const oneMonthAgo = new Date();
                oneMonthAgo.setMonth(oneMonthAgo.getMonth() - 1);
                
                const recentLifts = lifts.filter(lift => new Date(lift.date) >= oneMonthAgo);
                renderLifts(recentLifts);
            });
            
            // Eksport i czyszczenie danych
            document.getElementById('export-data').addEventListener('click', function() {
                const data = {
                    goals: goals,
                    lifts: lifts,
                    exportedAt: new Date().toISOString()
                };
                
                const dataStr = JSON.stringify(data, null, 2);
                const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
                
                const exportFileDefaultName = 'fitness-data-export.json';
                
                const linkElement = document.createElement('a');
                linkElement.setAttribute('href', dataUri);
                linkElement.setAttribute('download', exportFileDefaultName);
                linkElement.click();
                
                showNotification('Dane zostały wyeksportowane!', 'success');
            });
            
            document.getElementById('clear-data').addEventListener('click', function() {
                if (confirm('Czy na pewno chcesz usunąć WSZYSTKIE dane? Tej operacji nie można cofnąć.')) {
                    localStorage.removeItem('fitnessGoals');
                    localStorage.removeItem('fitnessLifts');
                    goals = [];
                    lifts = [];
                    
                    renderGoals();
                    renderLifts();
                    updateMainStats();
                    updatePersonalRecords();
                    
                    showNotification('Wszystkie dane zostały usunięte!', 'info');
                }
            });
            
            // Funkcje pomocnicze
            function saveGoals() {
                localStorage.setItem('fitnessGoals', JSON.stringify(goals));
            }
            
            function saveLifts() {
                localStorage.setItem('fitnessLifts', JSON.stringify(lifts));
            }
            
            function renderGoals(goalsToRender = goals) {
                const container = document.getElementById('goals-container');
                
                if (goalsToRender.length === 0) {
                    container.innerHTML = `
                        <div class="empty-state">
                            <i class="fas fa-bullseye"></i>
                            <h3>Brak celów</h3>
                            <p>Dodaj swój pierwszy cel, aby rozpocząć śledzenie postępów na siłowni!</p>
                        </div>
                    `;
                    return;
                }
                
                // Sortuj cele: nieukończone pierwsze, potem ukończone
                goalsToRender.sort((a, b) => {
                    if (a.completed && !b.completed) return 1;
                    if (!a.completed && b.completed) return -1;
                    return new Date(b.createdAt) - new Date(a.createdAt);
                });
                
                container.innerHTML = '';
                
                goalsToRender.forEach(goal => {
                    const progress = goal.targetValue > 0 ? Math.min(100, Math.round((goal.currentValue / goal.targetValue) * 100)) : 0;
                    const isOverdue = !goal.completed && goal.endDate && new Date(goal.endDate) < new Date();
                    
                    const goalElement = document.createElement('div');
                    goalElement.className = `goal-item ${goal.completed ? 'completed' : ''} ${isOverdue ? 'overdue' : ''}`;
                    goalElement.innerHTML = `
                        <div class="goal-item-header">
                            <div class="goal-title">${goal.title}</div>
                            <span class="goal-category">${goal.category}</span>
                        </div>
                        
                        <div class="goal-details">
                            <p>${goal.description || 'Brak opisu'}</p>
                            <p><i class="fas fa-calendar-alt"></i> Rozpoczęto: ${formatDate(goal.startDate)}</p>
                            ${goal.endDate ? `<p><i class="fas fa-flag-checkered"></i> Cel na: ${formatDate(goal.endDate)}</p>` : ''}
                        </div>
                        
                        <div class="goal-progress">
                            <div class="progress-text">
                                <span>Aktualnie: ${goal.currentValue} ${goal.unit} / Cel: ${goal.targetValue} ${goal.unit}</span>
                                <span>${progress}%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: ${progress}%; background-color: ${goal.completed ? 'var(--success)' : 'var(--primary)'};"></div>
                            </div>
                        </div>
                        
                        <div class="goal-actions">
                            ${!goal.completed ? `
                                <button class="btn btn-small btn-success complete-goal" data-id="${goal.id}">
                                    <i class="fas fa-check"></i> Oznacz jako ukończone
                                </button>
                                <button class="btn btn-small btn-warning update-goal-progress" data-id="${goal.id}">
                                    <i class="fas fa-edit"></i> Aktualizuj postęp
                                </button>
                            ` : ''}
                            <button class="btn btn-small btn-danger delete-goal" data-id="${goal.id}">
                                <i class="fas fa-trash"></i> Usuń
                            </button>
                        </div>
                    `;
                    
                    container.appendChild(goalElement);
                });
                
                // Dodaj obsługę zdarzeń do przycisków
                document.querySelectorAll('.complete-goal').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const id = parseInt(this.getAttribute('data-id'));
                        completeGoal(id);
                    });
                });
                
                document.querySelectorAll('.delete-goal').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const id = parseInt(this.getAttribute('data-id'));
                        deleteGoal(id);
                    });
                });
                
                document.querySelectorAll('.update-goal-progress').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const id = parseInt(this.getAttribute('data-id'));
                        updateGoalProgress(id);
                    });
                });
                
                // Aktualizuj pasek postępu celów
                updateGoalsProgressBar();
            }
            
            function renderLifts(liftsToRender = lifts) {
                const container = document.getElementById('lifts-container');
                const filterContainer = document.getElementById('exercise-filter-container');
                
                if (liftsToRender.length === 0) {
                    container.innerHTML = `
                        <div class="empty-state">
                            <i class="fas fa-weight-hanging"></i>
                            <h3>Brak wycisków</h3>
                            <p>Dodaj swój pierwszy wycisk, aby rozpocząć śledzenie postępów siłowych!</p>
                        </div>
                    `;
                    return;
                }
                
                // Sortuj wyciski: najnowsze pierwsze
                liftsToRender.sort((a, b) => new Date(b.date) - new Date(a.date));
                
                container.innerHTML = '';
                
                // Utwórz listę unikalnych ćwiczeń dla filtrów
                const uniqueExercises = [...new Set(lifts.map(lift => lift.exercise))];
                
                // Renderuj filtry ćwiczeń
                filterContainer.innerHTML = `
                    <button class="exercise-btn active" data-exercise="all">Wszystkie</button>
                    ${uniqueExercises.map(exercise => `
                        <button class="exercise-btn" data-exercise="${exercise}">${exercise}</button>
                    `).join('')}
                `;
                
                // Obsługa filtrów ćwiczeń
                document.querySelectorAll('.exercise-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        document.querySelectorAll('.exercise-btn').forEach(b => b.classList.remove('active'));
                        this.classList.add('active');
                        
                        const exercise = this.getAttribute('data-exercise');
                        if (exercise === 'all') {
                            renderLifts();
                        } else {
                            const filteredLifts = lifts.filter(lift => lift.exercise === exercise);
                            renderLifts(filteredLifts);
                        }
                    });
                });
                
                // Renderuj wyciski
                liftsToRender.forEach(lift => {
                    const liftElement = document.createElement('div');
                    liftElement.className = 'lift-item';
                    liftElement.innerHTML = `
                        <div class="lift-item-header">
                            <div class="lift-title">${lift.exercise}</div>
                            <span class="lift-exercise">${formatDate(lift.date)}</span>
                        </div>
                        
                        <div class="lift-details">
                            <p>${lift.notes || 'Brak notatek'}</p>
                        </div>
                        
                        <div class="lift-stats">
                            <div class="lift-stat">
                                <div class="lift-stat-value">${lift.weight} kg</div>
                                <div class="lift-stat-label">Ciężar</div>
                            </div>
                            <div class="lift-stat">
                                <div class="lift-stat-value">${lift.reps}</div>
                                <div class="lift-stat-label">Powtórzenia</div>
                            </div>
                            <div class="lift-stat">
                                <div class="lift-stat-value">${lift.sets}</div>
                                <div class="lift-stat-label">Serie</div>
                            </div>
                        </div>
                        
                        <div class="lift-actions">
                            <button class="btn btn-small btn-warning edit-lift" data-id="${lift.id}">
                                <i class="fas fa-edit"></i> Edytuj
                            </button>
                            <button class="btn btn-small btn-danger delete-lift" data-id="${lift.id}">
                                <i class="fas fa-trash"></i> Usuń
                            </button>
                        </div>
                    `;
                    
                    container.appendChild(liftElement);
                });
                
                // Dodaj obsługę zdarzeń do przycisków
                document.querySelectorAll('.delete-lift').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const id = parseInt(this.getAttribute('data-id'));
                        deleteLift(id);
                    });
                });
                
                document.querySelectorAll('.edit-lift').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const id = parseInt(this.getAttribute('data-id'));
                        editLift(id);
                    });
                });
            }
            
            function updateMainStats() {
                const totalGoals = goals.length;
                const completedGoals = goals.filter(g => g.completed).length;
                const totalLifts = lifts.length;
                
                // Oblicz rekord osobisty (największy wyciśnięty ciężar)
                let personalBest = 0;
                if (lifts.length > 0) {
                    personalBest = Math.max(...lifts.map(lift => lift.weight));
                }
                
                // Oblicz ogólny postęp celów
                let totalProgress = 0;
                if (totalGoals > 0) {
                    goals.forEach(goal => {
                        const progress = goal.targetValue > 0 ? Math.min(100, (goal.currentValue / goal.targetValue) * 100) : 0;
                        totalProgress += progress;
                    });
                    totalProgress = Math.round(totalProgress / totalGoals);
                }
                
                // Zaktualizuj statystyki
                document.getElementById('total-goals').textContent = totalGoals;
                document.getElementById('total-lifts').textContent = totalLifts;
                document.getElementById('personal-best').textContent = personalBest + (personalBest > 0 ? ' kg' : '');
                document.getElementById('overall-progress-percent').textContent = totalProgress + '%';
                
                // Zaktualizuj pasek ogólnego postępu
                const progressBar = document.getElementById('goals-progress-bar');
                const progressText = document.getElementById('goals-progress-text');
                
                progressBar.style.width = `${totalProgress}%`;
                progressText.textContent = `${totalProgress}%`;
                
                // Zmień kolor w zależności od postępu
                if (totalProgress >= 80) {
                    progressBar.style.backgroundColor = 'var(--success)';
                } else if (totalProgress >= 50) {
                    progressBar.style.backgroundColor = 'var(--warning)';
                } else {
                    progressBar.style.backgroundColor = 'var(--primary)';
                }
            }
            
            function updateGoalsProgressBar() {
                // Oblicz ogólny postęp celów
                let totalProgress = 0;
                if (goals.length > 0) {
                    goals.forEach(goal => {
                        const progress = goal.targetValue > 0 ? Math.min(100, (goal.currentValue / goal.targetValue) * 100) : 0;
                        totalProgress += progress;
                    });
                    totalProgress = Math.round(totalProgress / goals.length);
                }
                
                // Zaktualizuj pasek postępu celów
                const progressBar = document.getElementById('goals-progress-bar');
                const progressText = document.getElementById('goals-progress-text');
                
                progressBar.style.width = `${totalProgress}%`;
                progressText.textContent = `${totalProgress}%`;
                
                // Zmień kolor w zależności od postępu
                if (totalProgress >= 80) {
                    progressBar.style.backgroundColor = 'var(--success)';
                } else if (totalProgress >= 50) {
                    progressBar.style.backgroundColor = 'var(--warning)';
                } else {
                    progressBar.style.backgroundColor = 'var(--primary)';
                }
            }
            
            function updatePersonalRecords() {
                const container = document.getElementById('personal-records');
                
                if (lifts.length === 0) {
                    container.innerHTML = '<p>Dodaj swoje pierwsze wyciski, aby zobaczyć tutaj rekordy osobiste!</p>';
                    return;
                }
                
                // Znajdź rekordy dla każdego ćwiczenia
                const exercises = [...new Set(lifts.map(lift => lift.exercise))];
                const records = [];
                
                exercises.forEach(exercise => {
                    const exerciseLifts = lifts.filter(lift => lift.exercise === exercise);
                    const maxWeight = Math.max(...exerciseLifts.map(lift => lift.weight));
                    const bestLift = exerciseLifts.find(lift => lift.weight === maxWeight);
                    
                    records.push({
                        exercise: exercise,
                        weight: maxWeight,
                        reps: bestLift.reps,
                        date: bestLift.date
                    });
                });
                
                // Posortuj według ciężaru (malejąco)
                records.sort((a, b) => b.weight - a.weight);
                
                container.innerHTML = `
                    <div style="display: grid; gap: 10px;">
                        ${records.map(record => `
                            <div style="background: #f5f0ff; padding: 10px; border-radius: 8px;">
                                <div style="font-weight: bold; color: var(--purple);">${record.exercise}</div>
                                <div style="display: flex; justify-content: space-between; margin-top: 5px;">
                                    <span><i class="fas fa-weight-hanging"></i> ${record.weight} kg</span>
                                    <span><i class="fas fa-redo"></i> ${record.reps} powt.</span>
                                    <span><i class="fas fa-calendar"></i> ${formatDate(record.date)}</span>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
            }
            
            function filterGoalsByCategory(category) {
                if (category === 'all') {
                    renderGoals();
                } else {
                    const filteredGoals = goals.filter(goal => goal.category === category);
                    renderGoals(filteredGoals);
                }
            }
            
            function completeGoal(id) {
                const goal = goals.find(g => g.id === id);
                if (goal) {
                    goal.completed = true;
                    goal.currentValue = goal.targetValue; // Ustaw na 100%
                    saveGoals();
                    renderGoals();
                    updateMainStats();
                    showNotification('Cel oznaczony jako ukończony!', 'success');
                }
            }
            
            function deleteGoal(id) {
                if (confirm('Czy na pewno chcesz usunąć ten cel?')) {
                    goals = goals.filter(g => g.id !== id);
                    saveGoals();
                    renderGoals();
                    updateMainStats();
                    showNotification('Cel został usunięty', 'info');
                }
            }
            
            function deleteLift(id) {
                if (confirm('Czy na pewno chcesz usunąć ten wycisk?')) {
                    lifts = lifts.filter(l => l.id !== id);
                    saveLifts();
                    renderLifts();
                    updateMainStats();
                    updatePersonalRecords();
                    showNotification('Wycisk został usunięty', 'info');
                }
            }
            
            function editLift(id) {
                const lift = lifts.find(l => l.id === id);
                if (lift) {
                    document.getElementById('lift-exercise').value = lift.exercise;
                    document.getElementById('lift-weight').value = lift.weight;
                    document.getElementById('lift-reps').value = lift.reps;
                    document.getElementById('lift-sets').value = lift.sets;
                    document.getElementById('lift-date').value = lift.date;
                    document.getElementById('lift-notes').value = lift.notes;
                    
                    // Usuń stary wpis i przewiń do formularza
                    lifts = lifts.filter(l => l.id !== id);
                    document.querySelector('[data-tab="lifts"]').click();
                    
                    showNotification('Edytuj wycisk w formularzu powyżej', 'info');
                }
            }
            
            function updateGoalProgress(id) {
                const goal = goals.find(g => g.id === id);
                if (goal) {
                    const newValue = prompt(`Podaj aktualną wartość dla "${goal.title}" (w ${goal.unit}):`, goal.currentValue);
                    if (newValue !== null && !isNaN(parseFloat(newValue))) {
                        goal.currentValue = parseFloat(newValue);
                        
                        // Automatycznie oznacz jako ukończony jeśli osiągnięto cel
                        if (goal.currentValue >= goal.targetValue) {
                            goal.completed = true;
                            showNotification('Gratulacje! Osiągnąłeś swój cel!', 'success');
                        }
                        
                        saveGoals();
                        renderGoals();
                        updateMainStats();
                        showNotification('Postęp zaktualizowany!', 'success');
                    }
                }
            }
            
            function populateExerciseList() {
                const container = document.getElementById('exercise-list');
                const exercises = [
                    'Wyciskanie na ławce płaskiej',
                    'Przysiad ze sztangą',
                    'Martwy ciąg',
                    'Wyciskanie żołnierskie',
                    'Wiosłowanie sztangą',
                    'Podciąganie na drążku',
                    'Uginanie ramion ze sztangą',
                    'Wyciskanie francuskie',
                    'Wyciskanie na ławce skośnej',
                    'Rozpiętki',
                    'Prostowanie nóg na maszynie',
                    'Uginanie nóg na maszynie',
                    'Wspięcia na palce',
                    'Ściąganie drążka wyciągu',
                    'Pompki na poręczach',
                    'Deska',
                    'Brzuszki'
                ];
                
                container.innerHTML = exercises.map(exercise => `
                    <button class="exercise-option" data-exercise="${exercise}">
                        ${exercise}
                    </button>
                `).join('');
                
                // Obsługa wyboru ćwiczenia
                document.querySelectorAll('.exercise-option').forEach(option => {
                    option.addEventListener('click', function() {
                        document.querySelectorAll('.exercise-option').forEach(o => o.classList.remove('selected'));
                        this.classList.add('selected');
                    });
                });
            }
            
            function setupCalculators() {
                // BMI Calculator
                document.getElementById('calculate-bmi').addEventListener('click', function() {
                    const weight = parseFloat(document.getElementById('bmi-weight').value);
                    const height = parseFloat(document.getElementById('bmi-height').value) / 100; // convert cm to m
                    
                    if (!weight || !height || height <= 0) {
                        showNotification('Wprowadź prawidłową wagę i wzrost!', 'error');
                        return;
                    }
                    
                    const bmi = weight / (height * height);
                    const roundedBmi = bmi.toFixed(1);
                    
                    let category = '';
                    let categoryClass = '';
                    
                    if (bmi < 18.5) {
                        category = 'Niedowaga';
                        categoryClass = 'underweight';
                    } else if (bmi < 25) {
                        category = 'Prawidłowa waga';
                        categoryClass = 'normal';
                    } else if (bmi < 30) {
                        category = 'Nadwaga';
                        categoryClass = 'overweight';
                    } else {
                        category = 'Otyłość';
                        categoryClass = 'obese';
                    }
                    
                    document.getElementById('bmi-value').textContent = roundedBmi;
                    document.getElementById('bmi-category').textContent = category;
                    document.getElementById('bmi-category').className = `result-category ${categoryClass}`;
                    document.getElementById('bmi-result').classList.add('active');
                });
                
                // BMR Calculator
                document.getElementById('calculate-bmr').addEventListener('click', function() {
                    const gender = document.querySelector('input[name="gender"]:checked').value;
                    const weight = parseFloat(document.getElementById('bmr-weight').value);
                    const height = parseFloat(document.getElementById('bmr-height').value);
                    const age = parseInt(document.getElementById('bmr-age').value);
                    
                    if (!weight || !height || !age) {
                        showNotification('Wprowadź wszystkie dane!', 'error');
                        return;
                    }
                    
                    let bmr;
                    if (gender === 'male') {
                        bmr = 10 * weight + 6.25 * height - 5 * age + 5;
                    } else {
                        bmr = 10 * weight + 6.25 * height - 5 * age - 161;
                    }
                    
                    const roundedBmr = Math.round(bmr);
                    
                    document.getElementById('bmr-value').textContent = roundedBmr + ' kcal';
                    document.getElementById('bmr-result').classList.add('active');
                    
                    // Ustaw wartość BMR w kalkulatorze TDEE
                    document.getElementById('tdee-bmr').value = roundedBmr;
                });
                
                // TDEE Calculator
                document.getElementById('calculate-tdee').addEventListener('click', function() {
                    const bmr = parseFloat(document.getElementById('tdee-bmr').value);
                    const activityLevel = parseFloat(document.getElementById('activity-level').value);
                    
                    if (!bmr || bmr <= 0) {
                        showNotification('Wprowadź wartość BMR! Możesz ją obliczyć w kalkulatorze powyżej.', 'error');
                        return;
                    }
                    
                    const tdee = Math.round(bmr * activityLevel);
                    const cutCalories = Math.round(tdee * 0.85); // 15% deficit
                    const bulkCalories = Math.round(tdee * 1.10); // 10% surplus
                    
                    document.getElementById('tdee-value').textContent = tdee + ' kcal';
                    document.getElementById('tdee-cut').textContent = cutCalories + ' kcal';
                    document.getElementById('tdee-bulk').textContent = bulkCalories + ' kcal';
                    document.getElementById('tdee-result').classList.add('active');
                });
                
                // 1RM Calculator
                document.getElementById('calculate-onerm').addEventListener('click', function() {
                    const weight = parseFloat(document.getElementById('onerm-weight').value);
                    const reps = parseInt(document.getElementById('onerm-reps').value);
                    const formula = document.getElementById('onerm-formula').value;
                    
                    if (!weight || !reps || weight <= 0 || reps <= 0) {
                        showNotification('Wprowadź ciężar i liczbę powtórzeń!', 'error');
                        return;
                    }
                    
                    const oneRM = calculate1RM(weight, reps, formula);
                    const roundedOneRM = Math.round(oneRM * 10) / 10;
                    
                    document.getElementById('onerm-value').textContent = roundedOneRM + ' kg';
                    document.getElementById('onerm-result').classList.add('active');
                });
            }
            
            function calculate1RM(weight, reps, formula) {
                switch(formula) {
                    case 'epley':
                        return weight * (1 + reps / 30);
                    case 'brzycki':
                        return weight * (36 / (37 - reps));
                    case 'lander':
                        return (100 * weight) / (101.3 - 2.67123 * reps);
                    default:
                        return weight * (1 + reps / 30);
                }
            }
            
            function updateStatsTab() {
                // Aktualizuj statystyki na zakładce statystyk
                document.getElementById('stats-goals-total').textContent = goals.length;
                document.getElementById('stats-goals-completed').textContent = goals.filter(g => g.completed).length;
                document.getElementById('stats-goals-active').textContent = goals.filter(g => !g.completed).length;
                
                document.getElementById('stats-lifts-total').textContent = lifts.length;
                
                // Liczba wycisków w tym miesiącu
                const now = new Date();
                const thisMonth = now.getMonth();
                const thisYear = now.getFullYear();
                
                const liftsThisMonth = lifts.filter(lift => {
                    const liftDate = new Date(lift.date);
                    return liftDate.getMonth() === thisMonth && liftDate.getFullYear() === thisYear;
                }).length;
                
                document.getElementById('stats-lifts-month').textContent = liftsThisMonth;
                
                // Liczba różnych ćwiczeń
                const differentExercises = [...new Set(lifts.map(lift => lift.exercise))].length;
                document.getElementById('stats-different-exercises').textContent = differentExercises;
                
                // Rozkład celów według kategorii
                const goalsByCategoryContainer = document.getElementById('goals-by-category');
                if (goals.length === 0) {
                    goalsByCategoryContainer.innerHTML = '<p>Dodaj cele, aby zobaczyć statystyki</p>';
                } else {
                    const categories = {};
                    goals.forEach(goal => {
                        categories[goal.category] = (categories[goal.category] || 0) + 1;
                    });
                    
                    goalsByCategoryContainer.innerHTML = Object.entries(categories).map(([category, count]) => {
                        const percentage = Math.round((count / goals.length) * 100);
                        return `
                            <div style="margin-bottom: 10px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                    <span>${category}</span>
                                    <span>${count} (${percentage}%)</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: ${percentage}%;"></div>
                                </div>
                            </div>
                        `;
                    }).join('');
                }
                
                // Najczęściej wykonywane ćwiczenia
                const topExercisesContainer = document.getElementById('top-exercises');
                if (lifts.length === 0) {
                    topExercisesContainer.innerHTML = '<p>Dodaj wyciski, aby zobaczyć statystyki ćwiczeń</p>';
                } else {
                    const exerciseCounts = {};
                    lifts.forEach(lift => {
                        exerciseCounts[lift.exercise] = (exerciseCounts[lift.exercise] || 0) + 1;
                    });
                    
                    const sortedExercises = Object.entries(exerciseCounts)
                        .sort((a, b) => b[1] - a[1])
                        .slice(0, 5); // Top 5 ćwiczeń
                    
                    topExercisesContainer.innerHTML = sortedExercises.map(([exercise, count]) => {
                        const percentage = Math.round((count / lifts.length) * 100);
                        return `
                            <div style="margin-bottom: 10px;">
                                <div style="display: flex; justify-content: space-between;">
                                    <span>${exercise}</span>
                                    <span>${count} (${percentage}%)</span>
                                </div>
                            </div>
                        `;
                    }).join('');
                }
            }
            
            function formatDate(dateString) {
                if (!dateString) return 'Nie określono';
                const date = new Date(dateString);
                return date.toLocaleDateString('pl-PL');
            }
            
            function showNotification(message, type = 'info') {
                // Utwórz element powiadomienia
                const notification = document.createElement('div');
                notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: ${type === 'success' ? 'var(--success)' : type === 'error' ? 'var(--danger)' : 'var(--primary)'};
                    color: white;
                    padding: 15px 20px;
                    border-radius: 8px;
                    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
                    z-index: 1000;
                    transform: translateX(150%);
                    transition: transform 0.3s ease;
                    max-width: 300px;
                `;
                
                notification.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
                        <span>${message}</span>
                    </div>
                `;
                
                document.body.appendChild(notification);
                
                // Pokaż powiadomienie
                setTimeout(() => {
                    notification.style.transform = 'translateX(0)';
                }, 10);
                
                // Ukryj po 3 sekundach
                setTimeout(() => {
                    notification.style.transform = 'translateX(150%)';
                    setTimeout(() => {
                        document.body.removeChild(notification);
                    }, 300);
                }, 3000);
            }
            
            // Dodaj przykładowe dane jeśli localStorage jest pusty
            if (goals.length === 0 && lifts.length === 0) {
                const sampleGoals = [
                    {
                        id: 1,
                        title: "Wyciskanie na ławce 100kg",
                        category: "siła",
                        description: "Osiągnąć wyciskanie na płaskiej ławce z obciążeniem 100kg na 5 powtórzeń",
                        startDate: "2023-09-01",
                        endDate: "2024-01-31",
                        currentValue: 80,
                        targetValue: 100,
                        unit: "kg",
                        completed: false,
                        createdAt: "2023-09-01T10:00:00"
                    },
                    {
                        id: 2,
                        title: "Zwiększyć masę mięśniową",
                        category: "masa",
                        description: "Przytyć 5kg masy mięśniowej w ciągu 4 miesięcy",
                        startDate: "2023-10-01",
                        endDate: "2024-02-01",
                        currentValue: 2,
                        targetValue: 5,
                        unit: "kg",
                        completed: false,
                        createdAt: "2023-10-01T12:00:00"
                    },
                    {
                        id: 3,
                        title: "Biegać 10km bez przerwy",
                        category: "wytrzymałość",
                        description: "Przygotować się do biegu na 10km bez zatrzymywania",
                        startDate: "2023-08-15",
                        endDate: "2023-12-31",
                        currentValue: 7,
                        targetValue: 10,
                        unit: "km",
                        completed: false,
                        createdAt: "2023-08-15T08:30:00"
                    }
                ];
                
                const sampleLifts = [
                    {
                        id: 1,
                        exercise: "Wyciskanie na ławce płaskiej",
                        weight: 80,
                        reps: 8,
                        sets: 3,
                        date: "2023-10-15",
                        notes: "Dobry dzień, czułem moc",
                        createdAt: "2023-10-15T10:30:00",
                        estimated1RM: 100
                    },
                    {
                        id: 2,
                        exercise: "Przysiad ze sztangą",
                        weight: 100,
                        reps: 5,
                        sets: 3,
                        date: "2023-10-16",
                        notes: "Trudne, ale udało się",
                        createdAt: "2023-10-16T11:00:00",
                        estimated1RM: 116.7
                    },
                    {
                        id: 3,
                        exercise: "Martwy ciąg",
                        weight: 120,
                        reps: 3,
                        sets: 4,
                        date: "2023-10-17",
                        notes: "Technika do poprawy",
                        createdAt: "2023-10-17T09:45:00",
                        estimated1RM: 127.2
                    }
                ];
                
                goals = sampleGoals;
                lifts = sampleLifts;
                saveGoals();
                saveLifts();
                renderGoals();
                renderLifts();
                updateMainStats();
                updatePersonalRecords();
            }
        });
    </script>
</body>
</html>